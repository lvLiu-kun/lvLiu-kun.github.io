# 高并发设计

参考资料：
涛哥：
https://yq0pkza686.feishu.cn/minutes/obcn6782l7t1np9y516f1ai2

## H5 接口请求性能瓶颈

### 在数据库

加缓存 Redis

### 在 Redis

使用 local cache（机器），在这基础上可以加 nginx/cdn（静态资源）

### 在机器上

CPU、内存

## 延迟方案

### 消息队列

## 海量数据存储

### 分库分表

### 大数据存储

### 缓存

zset：排行榜
set 数据结构：交集（共同好友列表）、差集（可能认识的朋友）

### 冷热数据方案

热数据：用户的前 100 条点赞视频
冷数据：用户的 非前 100 条点赞视频

## 面试高并发怎么回答？

明确场景；
确定具体业务、具体接口；
确定是 Qps 还是 Tps；
Qps：简单的查询，用多级缓存方案；
缓存一致性问题；
延迟方案（mq）、补偿机制（定时任务）；

